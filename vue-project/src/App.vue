<template>
  <div class="Xat"></div>
  <h1>{{ nombrePedido }}</h1>
  <input v-model="nombrePedido" />
  <button @click="mostrarLista">Enviar Pedido</button>
  <Producte :productes="productes" @a침adir-al-carrito="a침adirAlCarrito"/>
  <Lista />
</template>

<script setup>
import { ref, provide } from 'vue';
import Producte from './components/Productes.vue';
import Lista from './components/Lista.vue'

const nombrePedido = ref("");
const cart = ref([]);

const productes = ref([
  { name: "Hamburger 游꼢", price: 5 },
  { name: "Cheeseburger 游", price: 6 },
  { name: "Impossible Burger 游볫", price: 7 },
  { name: "Fries 游", price: 2 }
]);

provide('cart', cart);

const a침adirAlCarrito = (producto) => {
  cart.value.push(producto);
  alert(`A침adido ${producto.name} - $${producto.price} a la comanda.`);
};

const mostrarLista = () => {
  if (cart.value.length > 0) {
    alert(`Comanda Pedida: ${cart.value.map(item => item.name).join(', ')}`);
    cart.value = [];
  } else {
    alert('Tu comanda est치 vacia!');
  }
};

</script>
